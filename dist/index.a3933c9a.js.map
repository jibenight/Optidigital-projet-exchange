{"mappings":"AACA,MAAMA,IAAM,iCACNC,QAAU,oCAGhB,IAAIC,OAASC,SAASC,eAAe,UAEjCC,UAAY,GAEhB,MAAMC,SAAQ,KACZ,MAAMC,EAAYJ,SAASK,cAAc,gBAEnCC,EAAY,IAAIC,KAAKH,EAAUI,OACrCN,UAAUO,KAAKL,EAAUI,OACzB,MAAME,EAAU,IAAIH,KAAKD,GACzB,IAAK,IAAIK,EAAQ,EAAGA,EAAQ,EAAGA,IAC7BD,EAAQE,QAAQF,EAAQG,UAAY,GACpCX,UAAUO,KAAKC,EAAQI,qBAAqBC,MAAM,KAAKC,UAAUC,KAAK,MAExEC,2BAOaA,iBACPC,QAAQC,IACZlB,UAAUmB,KAAGC,MAAOC,IAClB,MAAMC,QAAiBC,MAAM5B,IAAM0B,EAAQzB,SAC3C,IAAI4B,QAAaF,EAASG,OAC1BC,QAAQC,IAAIH,GACZI,KAAKJ,OAXXK,OAAOC,iBAAiB,OAAQ7B,UAChCJ,OAAOiC,iBAAiB,SAAO,KAC7B7B,cAeF,IAAI2B,KAAOJ,IAET,IACIO,EAAG,2BAFQ,IAAI1B,KAAKmB,EAAKQ,MACPpB,yCAIZY,EAAKS,MAAMC,uBACXV,EAAKS,MAAME,uBACXX,EAAKS,MAAMG,uBACXZ,EAAKS,MAAMI,gCAIjBC,EAAIxC,SAASyC,cAAc,KAC/BD,EAAEE,YAAW,QAAWhB,EAAKS,MAAMC,YAAYV,EAAKS,MAAMC,aAAaV,EAAKS,MAAMG,aAAaZ,EAAKS,MAAMI,MAGtGb,EAAKQ,MAAQhC,UAAU,IACzBF,SAASC,eAAe,QAAQ0C,YAAYH,GAE9CxC,SAASC,eAAe,aAAa2C,WAAaX","sources":["src/js/api.js"],"sourcesContent":["//api from fixer.io\nconst url = 'https://api.exchangerate.host/';\nconst symbols = '?base=CHF&symbols=EUR,USD,JPY,GBP';\n\n// capture the date\nlet bouton = document.getElementById('reload');\n//let input = document.getElementById('date-string');\nlet arrayDate = [];\n\nconst loadDate = () => {\n  const inputDate = document.querySelector('#date-string');\n  // add 5 new dates\n  const firstDate = new Date(inputDate.value);\n  arrayDate.push(inputDate.value);\n  const newDate = new Date(firstDate);\n  for (let index = 0; index < 4; index++) {\n    newDate.setDate(newDate.getDate() + 1);\n    arrayDate.push(newDate.toLocaleDateString().split('/').reverse().join('-'));\n  }\n  exchange();\n};\nwindow.addEventListener('load', loadDate);\nbouton.addEventListener('click', () => {\n  loadDate();\n});\n\nasync function exchange() {\n  await Promise.all(\n    arrayDate.map(async dates => {\n      const response = await fetch(url + dates + symbols);\n      let data = await response.json();\n      console.log(data);\n      show(data);\n    })\n  );\n}\n\n// show the data\nlet show = data => {\n  const events = new Date(data.date);\n  let euroDate = events.toLocaleDateString();\n  let tab = `\n      <tr>\n      <td>${euroDate} </td>\n      <td>${data.rates.EUR}</td>\n      <td>${data.rates.USD}</td>\n      <td>${data.rates.JPY}</td>\n      <td>${data.rates.GBP}</td>\n      </tr>\n      `;\n\n  let p = document.createElement('p');\n  p.textContent = `EURO:${data.rates.EUR} - USD${data.rates.EUR} - JPY:${data.rates.JPY} - GBP:${data.rates.GBP}`;\n\n  // ADD in HTML\n  if (data.date == arrayDate[0]) {\n    document.getElementById('info').appendChild(p);\n  }\n  document.getElementById('list-rate').innerHTML += tab;\n};\n"],"names":["url","symbols","bouton","document","getElementById","arrayDate","loadDate","inputDate","querySelector","firstDate","Date","value","push","newDate","index","setDate","getDate","toLocaleDateString","split","reverse","join","exchange","Promise","all","map","async","dates","response","fetch","data","json","console","log","show","window","addEventListener","tab","date","rates","EUR","USD","JPY","GBP","p","createElement","textContent","appendChild","innerHTML"],"version":3,"file":"index.a3933c9a.js.map"}